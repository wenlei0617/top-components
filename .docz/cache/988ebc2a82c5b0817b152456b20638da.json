{"remainingRequest":"D:\\myhome\\top-components\\node_modules\\thread-loader\\dist\\cjs.js??ref--11-1!D:\\myhome\\top-components\\node_modules\\babel-loader\\lib\\index.js??ref--11-2!D:\\myhome\\top-components\\node_modules\\source-map-loader\\index.js!D:\\myhome\\top-components\\src\\components\\Modal\\createModel.tsx","dependencies":[{"path":"D:\\myhome\\top-components\\src\\components\\Modal\\createModel.tsx","mtime":1564557623922},{"path":"D:\\myhome\\top-components\\node_modules\\docz\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1558950548336},{"path":"D:\\myhome\\top-components\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1558950550233},{"path":"D:\\myhome\\top-components\\node_modules\\babel-loader\\lib\\index.js","mtime":1557972304893},{"path":"D:\\myhome\\top-components\\node_modules\\source-map-loader\\index.js","mtime":1557823249675}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:KGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5lbnRlck1vZHVsZTsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAicmVhY3QiOwppbXBvcnQgKiBhcyBSZWFjdERvbSBmcm9tICJyZWFjdC1kb20iOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gInByb3AtdHlwZXMiOwppbXBvcnQgIi4vc3R5bGVzL21vZGVsLnNjc3MiOwoKdmFyIE1vZGFsID0gZnVuY3Rpb24gTW9kYWwocHJvcHMpIHsKICB2YXIgdmlzaWJsZSA9IHByb3BzLnZpc2libGUsCiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47CiAgdmFyIENvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTsKICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKENvbnRhaW5lclJlZi5jdXJyZW50KSB7CiAgICAgIHZpc2libGUgPyBDb250YWluZXJSZWYuY3VycmVudC5zdHlsZS56SW5kZXggPSAiMTAwMCIgOiBDb250YWluZXJSZWYuY3VycmVudC5zdHlsZS56SW5kZXggPSAiLTEwMDAiOwogICAgfQogIH0sIFt2aXNpYmxlXSk7CgogIHZhciBjcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbiBjcmVhdGVDb250YWluZXIoKSB7CiAgICBpZiAoIUNvbnRhaW5lclJlZi5jdXJyZW50KSB7CiAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJ0b3BDLW1vZGFsLWNvbnRhaW5lciIpOwogICAgICBDb250YWluZXJSZWYuY3VycmVudCA9IG5vZGU7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICB9CgogICAgcmV0dXJuIENvbnRhaW5lclJlZi5jdXJyZW50OwogIH07CgogIGlmICghdmlzaWJsZSkgewogICAgaWYgKCFDb250YWluZXJSZWYuY3VycmVudCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9CgogIHJldHVybiBSZWFjdERvbS5jcmVhdGVQb3J0YWwoY2hpbGRyZW4sIGNyZWF0ZUNvbnRhaW5lcigpKTsKfTsKCk1vZGFsLnByb3BUeXBlcyA9IHsKICB2aXNpYmxlOiBQcm9wVHlwZXMuYm9vbCwKICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUKfTsKTW9kYWwuZGVmYXVsdFByb3BzID0gewogIHZpc2libGU6IGZhbHNlLAogIGNsb3NhYmxlOiBmYWxzZQp9Owp2YXIgX2RlZmF1bHQgPSBNb2RhbDsKZXhwb3J0IGRlZmF1bHQgX2RlZmF1bHQ7CgppZiAodHlwZW9mIE1vZGFsICE9PSAndW5kZWZpbmVkJyAmJiBNb2RhbCAmJiBNb2RhbCA9PT0gT2JqZWN0KE1vZGFsKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKE1vZGFsKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNb2RhbCwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIk1vZGFsIiwKICAgICAgZmlsZW5hbWU6ICJzcmNcXGNvbXBvbmVudHNcXE1vZGFsXFxjcmVhdGVNb2RlbC50c3giCiAgICB9CiAgfSk7Cn0KCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZGVmYXVsdDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoTW9kYWwsICJNb2RhbCIsICJEOlxcbXlob21lXFx0b3AtY29tcG9uZW50c1xcc3JjXFxjb21wb25lbnRzXFxNb2RhbFxcY3JlYXRlTW9kZWwudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIkQ6XFxteWhvbWVcXHRvcC1jb21wb25lbnRzXFxzcmNcXGNvbXBvbmVudHNcXE1vZGFsXFxjcmVhdGVNb2RlbC50c3giKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkubGVhdmVNb2R1bGU7CiAgbGVhdmVNb2R1bGUgJiYgbGVhdmVNb2R1bGUobW9kdWxlKTsKfSkoKTs="},{"version":3,"sources":["D:\\myhome\\top-components\\src\\components\\Modal\\createModel.tsx"],"names":["React","ReactDom","PropTypes","Modal","props","visible","children","ContainerRef","useRef","useEffect","current","style","zIndex","createContainer","node","document","createElement","setAttribute","body","appendChild","createPortal","propTypes","bool","defaultProps","closable"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,QAAZ,MAA0B,WAA1B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,qBAAP;;AAUA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAmB;AAAA,MACvBC,OADuB,GACDD,KADC,CACvBC,OADuB;AAAA,MACdC,QADc,GACDF,KADC,CACdE,QADc;AAE/B,MAAMC,YAA6B,GAAGP,KAAK,CAACQ,MAAN,CAA6B,IAA7B,CAAtC;AACAR,EAAAA,KAAK,CAACS,SAAN,CAAgB,YAAM;AACpB,QAAIF,YAAY,CAACG,OAAjB,EAA0B;AACxBL,MAAAA,OAAO,GACFE,YAAY,CAACG,OAAb,CAAqBC,KAArB,CAA2BC,MAA3B,GAAoC,MADlC,GAEFL,YAAY,CAACG,OAAb,CAAqBC,KAArB,CAA2BC,MAA3B,GAAoC,OAFzC;AAGD;AACF,GAND,EAMG,CAACP,OAAD,CANH;;AAOA,MAAMQ,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B,QAAI,CAACN,YAAY,CAACG,OAAlB,EAA2B;AACzB,UAAMI,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAb;AACAF,MAAAA,IAAI,CAACG,YAAL,CAAkB,OAAlB,EAA2B,sBAA3B;AACAV,MAAAA,YAAY,CAACG,OAAb,GAAuBI,IAAvB;AACAC,MAAAA,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BL,IAA1B;AACD;;AACD,WAAOP,YAAY,CAACG,OAApB;AACD,GARD;;AASA,MAAI,CAACL,OAAL,EAAc;AACZ,QAAI,CAACE,YAAY,CAACG,OAAlB,EAA2B;AACzB,aAAO,IAAP;AACD;AACF;;AACD,SAAOT,QAAQ,CAACmB,YAAT,CAAsBd,QAAtB,EAAgCO,eAAe,EAA/C,CAAP;AACD,CAzBD;;AA0BAV,KAAK,CAACkB,SAAN,GAAkB;AAChBhB,EAAAA,OAAO,EAAEH,SAAS,CAACoB,IADH;AAEhBhB,EAAAA,QAAQ,EAAEJ,SAAS,CAACY;AAFJ,CAAlB;AAIAX,KAAK,CAACoB,YAAN,GAAqB;AACnBlB,EAAAA,OAAO,EAAE,KADU;AAEnBmB,EAAAA,QAAQ,EAAE;AAFS,CAArB;eAKerB,K;AAAf;;;;;;;;;;;;;;;;;;;;;;0BAnCMA,K","sourcesContent":["import * as React from \"react\";\nimport * as ReactDom from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport \"./styles/model.scss\";\ninterface Iprops {\n  visible?: boolean; // 是否可见\n  children?: React.ReactNode;\n}\n\ninterface IcontainerProps {\n  current: HTMLDivElement | null;\n}\n\nconst Modal = (props: Iprops) => {\n  const { visible, children } = props;\n  const ContainerRef: IcontainerProps = React.useRef<HTMLDivElement>(null);\n  React.useEffect(() => {\n    if (ContainerRef.current) {\n      visible\n        ? (ContainerRef.current.style.zIndex = \"1000\")\n        : (ContainerRef.current.style.zIndex = \"-1000\");\n    }\n  }, [visible]);\n  const createContainer = () => {\n    if (!ContainerRef.current) {\n      const node = document.createElement(\"div\");\n      node.setAttribute(\"class\", \"topC-modal-container\");\n      ContainerRef.current = node;\n      document.body.appendChild(node);\n    }\n    return ContainerRef.current;\n  };\n  if (!visible) {\n    if (!ContainerRef.current) {\n      return null;\n    }\n  }\n  return ReactDom.createPortal(children, createContainer());\n};\nModal.propTypes = {\n  visible: PropTypes.bool,\n  children: PropTypes.node\n};\nModal.defaultProps = {\n  visible: false,\n  closable: false\n};\n\nexport default Modal;\n"]}]}